<h1 class="text-center my-4">Edit Your Profile</h1>

<div class="container">
  <%= form_for @user, html: { class: 'needs-validation', novalidate: true } do |f| %>
    
    <div class="form-group">
      <%= f.label :name, class: 'form-label' %>
      <%= f.text_field :name, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= f.label :email, class: 'form-label' %>
      <%= f.email_field :email, class: 'form-control' %>
    </div>

    <!-- プロフィール画像 -->
    <div class="form-group text-center">
      <%= f.label :avatar, class: 'form-label' %><br>
      <%= f.file_field :avatar, class: 'form-control-file' %>
      <br>
      <!-- 画像の表示 -->
      <%= image_tag(@user.avatar.attached? ? @user.avatar : "no_image.jpg", size: "150x150", class: "img-fluid rounded-circle") %>
    </div>

    <div class="form-group text-center">
      <%= f.submit 'Update Profile', class: 'btn btn-primary btn-lg' %>
    </div>

  <% end %>

  <div class="text-center mt-3">
    <%= link_to 'Back', user_path(@user), class: 'btn btn-secondary' %>
  </div>

  <div class="text-center mt-3">
    <%= link_to 'Delete Account', user_path(@user), method: :delete, data: { confirm: 'Are you sure you want to delete your account?' }, class: 'btn btn-danger' %>
  </div>
</div>
